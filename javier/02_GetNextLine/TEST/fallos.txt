
BUFFER_SIZE = 42

title("files/multiple_line_no_nl: ")
	fd = open("files/multiple_line_no_nl", O_RDWR);
	TEST(/* 1 */ gnl(fd, "01234567890123456789012345678901234567890\n"); OK
		 /* 2 */ gnl(fd, "987654321098765432109876543210987654321098\n"); OK
		 /* 3 */ gnl(fd, "0123456789012345678901234567890123456789012\n"); KO
		 /* 4 */ gnl(fd, "987654321098765432109876543210987654321098\n"); KO
		 /* 5 */ gnl(fd, "01234567890123456789012345678901234567890"); KO
		 /* 6 */ gnl(fd, NULL);) close(fd); KO


		 title("files/multiple_line_with_nl: ")
	fd = open("files/multiple_line_with_nl", O_RDWR);
	TEST(/* 1 */ gnl(fd, "9876543210987654321098765432109876543210\n"); ok
		 /* 2 */ gnl(fd, "01234567890123456789012345678901234567890\n"); ko
		 /* 3 */ gnl(fd, "987654321098765432109876543210987654321098\n"); ko
		 /* 4 */ gnl(fd, "01234567890123456789012345678901234567890\n"); ko
		 /* 5 */ gnl(fd, "9876543210987654321098765432109876543210\n"); ko
		 /* 6 */ gnl(fd, NULL);) close(fd); ko

	title("files/alternate_line_nl_no_nl: ")
	fd = open("files/alternate_line_nl_no_nl", O_RDWR);
	TEST(/* 1 */ gnl(fd, "98765432109876543210987654321098765432109\n"); ok
		 /* 2 */ gnl(fd, "\n"); ok
		 /* 3 */ gnl(fd, "012345678901234567890123456789012345678901\n"); ko
		 /* 4 */ gnl(fd, "\n"); ko
		 /* 5 */ gnl(fd, "9876543210987654321098765432109876543210987\n"); ko
		 /* 6 */ gnl(fd, "\n"); ko
		 /* 7 */ gnl(fd, "012345678901234567890123456789012345678901\n"); ko
		 /* 8 */ gnl(fd, "\n"); ko
		 /* 9 */ gnl(fd, "98765432109876543210987654321098765432109"); ko
		 /* 10 */ gnl(fd, NULL);) close(fd); ko

	title("files/alternate_line_nl_with_nl: ")
	fd = open("files/alternate_line_nl_with_nl", O_RDWR);
	TEST(/* 1 */ gnl(fd, "01234567890123456789012345678901234567890\n"); ok
		 /* 2 */ gnl(fd, "\n"); ok
		 /* 3 */ gnl(fd, "987654321098765432109876543210987654321090\n"); ko
		 /* 4 */ gnl(fd, "\n"); ko
		 /* 5 */ gnl(fd, "0123456789012345678901234567890123456789012\n"); ko
		 /* 6 */ gnl(fd, "\n"); ko
		 /* 7 */ gnl(fd, "987654321098765432109876543210987654321090\n"); ko
		 /* 8 */ gnl(fd, "\n"); ko
		 /* 9 */ gnl(fd, "01234567890123456789012345678901234567890\n"); ko
		 /* 10 */ gnl(fd, NULL);) close(fd); ko


title("stdin: ")
	fd = open("files/alternate_line_nl_with_nl", O_RDWR);
	TEST(/* 1 */ gnl(0, "01234567890123456789012345678901234567890\n"); ok
		 /* 2 */ gnl(0, "\n"); ok
		 /* 3 */ gnl(0, "987654321098765432109876543210987654321090\n"); ko
		 /* 4 */ gnl(0, "\n"); ko
		 /* 5 */ gnl(0, "0123456789012345678901234567890123456789012\n"); ko
		 /* 6 */ gnl(0, "\n"); ko
		 /* 7 */ gnl(0, "987654321098765432109876543210987654321090\n"); ko
		 /* 8 */ gnl(0, "\n"); OOKKKKK
		 /* 9 */ gnl(0, "01234567890123456789012345678901234567890\n"); ko
		 /* 10 */ gnl(0, NULL);) ko
	write(1, "\n", 1);
	return (0);
